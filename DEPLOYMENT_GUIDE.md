# دليل نشر موقع أتمتة تيك توك

هذا الدليل يشرح كيفية نشر موقع أتمتة تيك توك في بيئة الإنتاج.

## المتطلبات الأساسية

- خادم يعمل بنظام Ubuntu 20.04 أو أحدث
- صلاحيات الجذر (root) أو صلاحيات sudo
- اسم نطاق (domain name) موجه إلى الخادم (اختياري)

## خطوات النشر

### 1. نسخ ملفات المشروع إلى الخادم

قم بنسخ جميع ملفات المشروع إلى الخادم باستخدام أمر `scp` أو أي أداة نقل ملفات أخرى:

```bash
scp -r tiktok_web user@your-server-ip:/home/user/
```

### 2. تشغيل سكريبت النشر

قم بتسجيل الدخول إلى الخادم وتشغيل سكريبت النشر:

```bash
ssh user@your-server-ip
cd /home/user/tiktok_web
sudo ./deploy.sh
```

سيقوم سكريبت النشر بالخطوات التالية:

- إنشاء مجلد النشر في `/var/www/tiktok_web`
- نسخ ملفات التطبيق إلى مجلد النشر
- تشغيل سكريبت إعداد الإنتاج
- تثبيت وتكوين Nginx
- تثبيت خدمة systemd لتشغيل واجهة برمجة التطبيقات (API)

### 3. تكوين اسم النطاق (اختياري)

إذا كنت تستخدم اسم نطاق، قم بتعديل ملف تكوين Nginx:

```bash
sudo nano /etc/nginx/sites-available/tiktok-automation.example.com
```

قم بتغيير `server_name` إلى اسم النطاق الخاص بك:

```
server_name your-domain.com;
```

ثم قم بإعادة تشغيل Nginx:

```bash
sudo systemctl restart nginx
```

## التحقق من النشر

بعد اكتمال عملية النشر، يمكنك التحقق من أن الموقع يعمل بشكل صحيح:

1. افتح المتصفح وانتقل إلى عنوان الخادم أو اسم النطاق الخاص بك
2. تأكد من أن صفحة تسجيل الدخول تظهر بشكل صحيح
3. قم بإنشاء حساب جديد وتسجيل الدخول
4. تأكد من أن جميع وظائف الموقع تعمل بشكل صحيح

## استكشاف الأخطاء وإصلاحها

إذا واجهت أي مشاكل، يمكنك التحقق من سجلات الخدمة:

```bash
# سجلات واجهة برمجة التطبيقات (API)
sudo journalctl -u tiktok-automation

# سجلات Nginx
sudo tail -f /var/log/nginx/error.log
```

## إعادة تشغيل الخدمات

إذا كنت بحاجة إلى إعادة تشغيل الخدمات:

```bash
# إعادة تشغيل واجهة برمجة التطبيقات (API)
sudo systemctl restart tiktok-automation

# إعادة تشغيل Nginx
sudo systemctl restart nginx
```

## تحديث الموقع

لتحديث الموقع بعد إجراء تغييرات:

1. قم بنسخ الملفات المحدثة إلى الخادم
2. قم بتشغيل سكريبت النشر مرة أخرى:

```bash
sudo ./deploy.sh
```

أو قم بتحديث الملفات يدويًا:

```bash
# تحديث ملفات الواجهة الأمامية
cd /var/www/tiktok_web/frontend
npm run build

# إعادة تشغيل واجهة برمجة التطبيقات (API)
sudo systemctl restart tiktok-automation
```
